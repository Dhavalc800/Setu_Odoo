<?xml version="1.0" encoding="UTF-8"?>
<templates id="template">
    <t t-inherit="web.SearchBar" t-inherit-mode="extension" owl="1">
        <xpath expr="//div[hasclass('o_cp_searchview')]" position="attributes">
            <attribute name="t-att-class" add="env.isSmall ? 'o_searchview_quick' : ''" separator=" "/>
        </xpath>
        <xpath expr="//div[hasclass('o_cp_searchview')]//div[hasclass('o_searchview')]" position="replace">
            <t t-if="env.isSmall or props.isToggleSearch==false">
                <div class="o_searchview pb-1 align-self-center border-bottom flex-grow-1" role="search" aria-autocomplete="list">
                    <i class="o_searchview_icon oi oi-search"
                       role="img"
                       aria-label="Search..."
                       title="Search..."
                    />
                    <div class="o_searchview_input_container">
                        <t t-call="web.SearchBar.Facets"/>
                        <t t-call="web.SearchBar.Input"/>
                        <t t-if="items.length">
                            <t t-call="web.SearchBar.Items"/>
                        </t>
                    </div>
                </div>
            </t>
        </xpath>

        <xpath expr="//div[hasclass('o_cp_searchview')]" position="inside">
            <t t-if="props.isToggleSearch and props and props.isToggleSearch == true and !env.isSmall">
                <a t-on-click="ev => this.openSearch(ev)" class="btn btn-link search-toggle toggle-search ms-auto"
                   data-target="odoo-search" title="Click to open search">
                    <i class="small me-1 fa fa-search"/>
                    <span class="o_dropdown_title fw-bold">Search</span>
                </a>
                <div class="o_searchview search-wrap" data-search="odoo-search" role="search" aria-autocomplete="list">
                    <i class="o_searchview_icon fa fa-search"
                       role="img"
                       aria-label="Search..."
                       title="Search..."
                    />
                    <div class="o_searchview_input_container">
                        <t t-call="web.SearchBar.Facets"/>
                        <t t-call="web.SearchBar.Input"/>
                        <t t-if="items.length">
                            <t t-call="web.SearchBar.Items"/>
                        </t>
                    </div>
                </div>
            </t>
        </xpath>
        <xpath expr="//div[hasclass('o_cp_searchview')]//div[hasclass('o_searchview')]" position="attributes">
            <attribute name="t-if" add="env.isSmall" separator=" "/>
        </xpath>
    </t>
</templates>